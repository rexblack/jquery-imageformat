/*! jquery-imageformat 2014-06-19 */
!function(a,b){function c(){var b=a.map(e,function(a,b){var c={name:b,width:a.width,height:a.height};return[c]});b.sort(function(a,b){return a.width>b.width&&a.height>b.height?1:a.width>b.width&&a.height>b.height?-1:0});for(var c=Math.min(g.width,g.height),d=(Math.max(g.width,g.height),0);d<b.length;d++){var f=b[d],i=Math.min(f.width,f.height),j=Math.max(f.width,f.height);c>=i&&j>=j&&(h=f.name)}return h}var d="imageformat",e={small:{width:320,height:520},medium:{width:768,height:1024},large:{width:1680,height:1050},big:{width:1920,height:1080}},f={attribute:"src"},g=function(){return b.devicePixelRatio&&-1==navigator.userAgent.toLowerCase().indexOf("android")?{width:screen.width*b.devicePixelRatio,height:screen.height*b.devicePixelRatio}:{width:screen.width,height:screen.height}}(),h=c(),i=function(b,c){var d=a(b);if(h)for(var e=(d.data(),0);e<b.attributes.length;e++){var f=b.attributes[e],g=f.nodeName,i=f.nodeValue;if(0==g.indexOf("data-src")){var j=g.substr("data-src".length+1);j==h&&b.setAttribute(c.attribute,i),g!=c.attribute&&(b.removeAttribute(g),e--)}}};a.fn[d]=function(b){return b=a.extend({},f,b),this.each(function(){return i(this,b),a(this)})},a.fn[d].CLIENT_FORMAT=h,a.fn[d].setImageFormat=function(a,b,d){e[a]={width:b,height:d},h=c()},a.fn[d].removeImageFormat=function(a){delete e[a],h=c()}}(jQuery,window);